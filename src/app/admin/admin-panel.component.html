<!-- admin-panel.component.html - REDISEÑADO COMPACTO -->
<div class="min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200">
  <div class="max-w-[1200px] mx-auto p-5">

    <!-- HEADER COMPACTO -->
    <header class="bg-white rounded-2xl border border-slate-200 shadow-sm p-4 mb-5">
      <div class="flex items-center justify-between gap-4 flex-wrap">

        <!-- Left Section -->
        <div class="flex items-center gap-3">
          <button
            type="button"
            class="btn-icon"
            (click)="goBack()"
            matTooltip="Volver al Dashboard">
            <mat-icon>arrow_back</mat-icon>
          </button>

          <div class="header-icon-box">
            <mat-icon>admin_panel_settings</mat-icon>
          </div>

          <div>
            <h1 class="text-lg font-bold text-slate-800">Panel de Administración</h1>
            <p class="text-xs text-slate-500">Centro de control del sistema</p>
          </div>
        </div>

        <!-- Stats Inline -->
        <div class="hidden md:flex items-center gap-3">
          <div class="stat-chip users" (click)="goToUsers()">
            <span class="stat-value">{{ totalUsers }}</span>
            <span class="stat-label">Usuarios</span>
          </div>
          <div class="stat-chip active" (click)="goToUsers()">
            <span class="stat-value">{{ activeUsers }}</span>
            <span class="stat-label">Activos</span>
          </div>
          <div class="stat-chip modules" (click)="manageModules()">
            <span class="stat-value">{{ totalModules }}</span>
            <span class="stat-label">Módulos</span>
          </div>
          <div class="stat-chip admin" (click)="goToUsers()">
            <span class="stat-value">{{ adminUsers }}</span>
            <span class="stat-label">Admins</span>
          </div>
        </div>

        <!-- Right Section -->
        <div class="flex items-center gap-2">
          <button
            type="button"
            class="btn-icon"
            (click)="refreshData()"
            [disabled]="isLoading"
            matTooltip="Actualizar datos">
            <mat-icon [class.animate-spin]="isLoading">refresh</mat-icon>
          </button>
        </div>
      </div>
    </header>

    <!-- ACCIONES RÁPIDAS -->
    <section class="bg-white rounded-2xl border border-slate-200 shadow-sm p-5 mb-5">
      <h3 class="text-sm font-semibold text-slate-500 uppercase tracking-wider mb-4">Acciones Rápidas</h3>

      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3">
        <!-- Gestión de Usuarios -->
        <button class="action-card users" (click)="goToUsers()">
          <div class="action-icon">
            <mat-icon>people</mat-icon>
          </div>
          <span class="action-label">Usuarios</span>
        </button>

        <!-- Gestionar Roles -->
        <button class="action-card roles" (click)="manageRoles()">
          <div class="action-icon">
            <mat-icon>admin_panel_settings</mat-icon>
          </div>
          <span class="action-label">Roles</span>
        </button>

        <!-- Gestionar Módulos -->
        <button class="action-card modules" (click)="manageModules()">
          <div class="action-icon">
            <mat-icon>apps</mat-icon>
          </div>
          <span class="action-label">Módulos</span>
        </button>

        <!-- Ver Logs -->
        <button class="action-card logs" (click)="viewLogs()">
          <div class="action-icon">
            <mat-icon>list_alt</mat-icon>
          </div>
          <span class="action-label">Logs</span>
        </button>

        <!-- Configuración -->
        <button class="action-card config" (click)="goToSystemConfig()">
          <div class="action-icon">
            <mat-icon>settings</mat-icon>
          </div>
          <span class="action-label">Configuración</span>
        </button>

        <!-- Mi Empresa -->
        <button class="action-card business" (click)="goToBusinessInfo()">
          <div class="action-icon">
            <mat-icon>business</mat-icon>
          </div>
          <span class="action-label">Mi Empresa</span>
        </button>
      </div>
    </section>

    <!-- RESUMEN RÁPIDO -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <!-- Card: Usuarios -->
      <div class="summary-card" (click)="goToUsers()">
        <div class="summary-header">
          <div class="summary-icon users">
            <mat-icon>people</mat-icon>
          </div>
          <div>
            <h4 class="summary-title">Usuarios</h4>
            <p class="summary-subtitle">{{ totalUsers }} registrados</p>
          </div>
        </div>
        <div class="summary-stats">
          <span class="text-green-600">{{ activeUsers }} activos</span>
          <span class="text-slate-400">{{ adminUsers }} admins</span>
        </div>
        <div class="summary-action">Gestionar →</div>
      </div>

      <!-- Card: Módulos -->
      <div class="summary-card" (click)="manageModules()">
        <div class="summary-header">
          <div class="summary-icon modules">
            <mat-icon>apps</mat-icon>
          </div>
          <div>
            <h4 class="summary-title">Módulos</h4>
            <p class="summary-subtitle">{{ totalModules }} configurados</p>
          </div>
        </div>
        <div class="summary-stats">
          <span class="text-purple-600">Sistema modular</span>
        </div>
        <div class="summary-action">Configurar →</div>
      </div>

      <!-- Card: Sistema -->
      <div class="summary-card" (click)="goToSystemConfig()">
        <div class="summary-header">
          <div class="summary-icon config">
            <mat-icon>settings</mat-icon>
          </div>
          <div>
            <h4 class="summary-title">Sistema</h4>
            <p class="summary-subtitle">Configuración general</p>
          </div>
        </div>
        <div class="summary-stats">
          <span class="text-cyan-600">Personalización</span>
        </div>
        <div class="summary-action">Ver ajustes →</div>
      </div>
    </section>

    <!-- Loading State -->
    @if (isLoading) {
      <div class="fixed inset-0 bg-white/80 backdrop-blur-sm flex items-center justify-center z-50">
        <div class="text-center">
          <div class="loading-spinner mx-auto mb-3"></div>
          <p class="text-sm text-slate-500">Cargando datos...</p>
        </div>
      </div>
    }

  </div>
</div>
