<!-- src/app/admin/admin-panel.component.html - MEJORADO -->
<div class="admin-container">
  <!-- Header -->
  <header class="admin-header">
    <div class="header-content">
      <div class="header-left">
        <div class="logo-section">
          <mat-icon class="admin-logo-icon">admin_panel_settings</mat-icon>
          <div class="logo-text">
            <h1>Panel de Administración</h1>
            <span>Gestión completa del sistema</span>
          </div>
          <div class="admin-badge">
            <span>ADMIN</span>
          </div>
        </div>
      </div>
      
      <div class="header-right">
        <div class="admin-user-info">
          <div class="user-avatar">
            <mat-icon>shield</mat-icon>
          </div>
          <div class="user-details">
            <span class="user-name">{{ currentUser()?.displayName }}</span>
            <span class="user-role">ADMINISTRADOR</span>
          </div>
        </div>
        
        <button mat-icon-button (click)="goToDashboard()" class="nav-button" title="Ir al Dashboard">
          <mat-icon>dashboard</mat-icon>
        </button>
        
        <button mat-icon-button [matMenuTriggerFor]="adminMenu" class="menu-button">
          <mat-icon>more_vert</mat-icon>
        </button>
        
        <mat-menu #adminMenu="matMenu">
          <button mat-menu-item (click)="goToDashboard()">
            <mat-icon>dashboard</mat-icon>
            Dashboard
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            Cerrar Sesión
          </button>
        </mat-menu>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="admin-main">
    <!-- Welcome Section -->
    <section class="welcome-section">
      <h2 class="welcome-title">Centro de Control Administrativo</h2>
      <p class="welcome-subtitle">Gestiona usuarios, proyectos y configuraciones del sistema</p>
    </section>

    <!-- Stats Grid -->
    <section class="stats-section">
      <div class="stats-grid">
        <!-- Total Users -->
        <div class="stat-card users-card">
          <div class="stat-icon">
            <mat-icon>group</mat-icon>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ totalUsers }}</div>
            <div class="stat-label">Usuarios Totales</div>
          </div>
        </div>

        <!-- Active Users -->
        <div class="stat-card active-card">
          <div class="stat-icon">
            <mat-icon>check_circle</mat-icon>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ activeUsers }}</div>
            <div class="stat-label">Usuarios Activos</div>
          </div>
        </div>

        <!-- Projects -->
        <div class="stat-card projects-card">
          <div class="stat-icon">
            <mat-icon>work</mat-icon>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ totalProjects }}</div>
            <div class="stat-label">Proyectos</div>
          </div>
        </div>

        <!-- Admins -->
        <div class="stat-card admins-card">
          <div class="stat-icon">
            <mat-icon>security</mat-icon>
          </div>
          <div class="stat-content">
            <div class="stat-number">{{ adminUsers }}</div>
            <div class="stat-label">Administradores</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Quick Actions -->
    <section class="actions-section">
      <div class="section-header">
        <h3>Acciones Rápidas</h3>
        <p>Gestión del sistema</p>
      </div>
      
      <div class="actions-grid">
        <button class="action-button primary" (click)="addUser()">
          <mat-icon>person_add</mat-icon>
          <span>Agregar Usuario</span>
        </button>
        
        <button class="action-button secondary" (click)="manageRoles()">
          <mat-icon>admin_panel_settings</mat-icon>
          <span>Gestionar Roles</span>
        </button>
        
        <button class="action-button" (click)="viewLogs()">
          <mat-icon>list_alt</mat-icon>
          <span>Ver Logs</span>
        </button>
        
        <button class="action-button" (click)="systemSettings()">
          <mat-icon>settings</mat-icon>
          <span>Configuración</span>
        </button>
      </div>
    </section>

    <!-- Users Table -->
    <section class="table-section">
      <div class="section-header">
        <h3>Usuarios Recientes</h3>
        <p>Últimos usuarios que han accedido al sistema</p>
      </div>
      
      <div class="table-container">
        <div class="table-wrapper">
          <table class="users-table">
            <thead>
              <tr>
                <th>Usuario</th>
                <th>Rol</th>
                <th>Estado</th>
                <th>Último Acceso</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of mockUsers; trackBy: trackByEmail" class="table-row">
                <td class="user-cell">
                  <div class="user-info">
                    <div class="user-avatar-small">
                      <mat-icon>{{ getUserIcon(user.role) }}</mat-icon>
                    </div>
                    <span class="user-email">{{ user.email }}</span>
                  </div>
                </td>
                <td>
                  <div class="role-badge" [ngClass]="'role-' + user.role">
                    {{ user.role.toUpperCase() }}
                  </div>
                </td>
                <td>
                  <div class="status-badge" [ngClass]="user.isActive ? 'status-active' : 'status-inactive'">
                    <mat-icon>{{ user.isActive ? 'check_circle' : 'cancel' }}</mat-icon>
                    <span>{{ user.isActive ? 'ACTIVO' : 'INACTIVO' }}</span>
                  </div>
                </td>
                <td class="date-cell">
                  <span class="date-text">{{ formatDate(user.lastLogin) }}</span>
                </td>
                <td>
                  <button mat-icon-button [matMenuTriggerFor]="userMenu" class="action-menu-button">
                    <mat-icon>more_vert</mat-icon>
                  </button>
                  <mat-menu #userMenu="matMenu">
                    <button mat-menu-item (click)="editUser(user)">
                      <mat-icon>edit</mat-icon>
                      Editar
                    </button>
                    <button mat-menu-item (click)="toggleUserStatus(user)">
                      <mat-icon>{{ user.isActive ? 'block' : 'check_circle' }}</mat-icon>
                      {{ user.isActive ? 'Desactivar' : 'Activar' }}
                    </button>
                  </mat-menu>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
  </main>
</div>